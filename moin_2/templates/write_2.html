{% extends 'base.html' %}

{% block content %}
{% load static %}

<form method="POST" class="post-form" enctype="multipart/form-data">
    {% csrf_token %}
    <input type="hidden" name="csrfmiddlewaretoken" value="eVZPZ6lhY4K7VO0GkzKtsHYYdd8kWWMnSyG0DaIo2cV5VsCMcOyxh6AodMVJCxJl">
    <div class = "firstbox" style = "margin-top:12vh;margin-bottom:2vh; height:7vh; display: flex; flex-direction: row; justify-content:space-between; align-items: center; ">
        <div id = "arrow" style="margin-left:20px;"><a href="{{ request.META.HTTP_REFERER }}"><img src = "{%static '화살표.png'%}"></a></div>
        <div id = "make_txt" style = "margin-right: 34%;font-weight: bold;font-size: 20px;font-family: 'Nanum Gothic';">게시물 작성</div>
    </div>
    <div class = "titlebox" style = "display:flex; flex-direction: row;justify-content: space-around;align-items: center;">
        <label for="id_제목" style = "font-size: 17.5px; font-family : 'Nanum Gothic';font-weight: bold;">제목</label>
        <input type="text" name="제목" maxlength="200" required="" id="id_제목" style = "height: 34px; width: 227px;border-radius: 10px;background: #f5f5f5;border:0px;">
    </div>
    <div class = "contentbox"  wrap = "hard" style = "display:flex;justify-content:center;flex-direction:row;margin-top:3vh;font-size: 17px;font-family: Nanum Gothic;">
        <textarea placeholder="글을 작성해주세요." name="내용" cols="40" rows="10" required="" id="id_내용" style = "height: 17.5vh;width:90%;display:flex;border-radius: 10px;background: #f5f5f5;border:0px;font-size: 15px;font-family: Nanum Gothic;"></textarea>
    </div>
    <div class = "imagefilebox" style = "margin-top:3vh;height: 15vh; width:99%; border: 1px solid; border-color: #d3d3d3 white;align-items: center;
    display: flex;flex-direction: row; justify-content: space-around;">
        <div class = "image_file">
            <label className="input-file-button" for="input-file" >
                <img src="{%static '사진파일.png'%}" id="previewImage" style="height: 80px; width: 100px;margin-top:8px; margin-bottom: 5px;border-radius: 10px;">
            </label>
            <input type="file" class="file" id="input-file" name="사진" style="display:none" onchange="imageView(this);">
            <script type="text/javascript">
            function readImage(input) {
                if (input.files && input.files[0]) {
                    const reader = new FileReader();
                    
                    reader.onload = (e) => {
                        const previewImage = document.getElementById('previewImage');
                        previewImage.src = e.target.result;
                    }
                    reader.readAsDataURL(input.files[0]);
                }
            }
            document.getElementById('input-file').addEventListener('change', (e) => {
                readImage(e.target);
            })
            </script>
        </div>
    </div>
    <div class = "button" style="display:flex;justify-content: center;margin-top:3vh;">
        <button type="submit" style="width: 274px;height: 41px;border-radius: 10px;background: #f6b955;border:0px;font-size: 15.5px;font-family: Nanum Gothic;color:white;font-weight: bold;">작성하기</button>
    </div>
</form>
{% endblock %}